<!-- cart_sync.liquid -->

<!-- Scripts -->
<script src="{{ 'cart-merge.js' | asset_url }}" defer></script>
<link rel="stylesheet" href="{{ 'style.css' | asset_url }}">

<!-- Cart Loader UI -->
<div id="cartsync-loader">
  <div class="cartsync-spinner"></div>
  <div class="cartsync-loader-text">Syncing cart, please wait...</div>
</div>

<!-- Inject Customer Data -->
<script>
  window.customerData = {
    isLoggedIn: {% if customer %}true{% else %}false{% endif %},
    email: {% if customer %}"{{ customer.email }}"{% else %}null{% endif %},
    id: {% if customer %}{{ customer.id }}{% else %}null{% endif %}
  };
</script>

{% schema %}
{
  "name": "Cart Sync",
  "target": "body",
  "settings": []
}
{% endschema %}
